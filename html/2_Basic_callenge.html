<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TWEENMAX - BASIC</title>
    <link rel="stylesheet" href="\TweenMax\css\style.css">
</head>
<body>
   <h1>응용1</h1>
   <section>
		<h2>.to</h2>
		<article class="moon noneFlow">
			<div class="box">
				<button type="button" class="btn">클릭</button>
				<img src="\TweenMax\images\img_moon.jpg" alt="moon"/>
			</div>
		</article>
		<article class="moon noneFlow">
			<div class="box">
				<button type="button" class="btn">클릭</button>
				<img src="\TweenMax\images\img_moon.jpg" alt="moon"/>
			</div>
		</article>
	</section>
	
	<script src="\TweenMax\js\jquery-1.12.4.min.js"></script>
	<script src="\TweenMax\js\TweenMax.min.js"></script>
	<script>
		function hasJqueryObject($elem) { return $elem.length > 0; }

		var app = app || {};

		app.uptoArea = {
			events: {
				CLICK_BTN: 'click.btn'
			},
			init: function() {
				this.noneFlow = '.noneFlow';
				this.floWbox = '.box';
				this.btn = '.btn';
				this.activeClass = 'on';

				this.$wrapper = app.$body.find(this.noneFlow);
				this.$box = this.$wrapper.find(this.floWbox);
				this.$btn = this.$wrapper.find(this.btn);
		
				this.addEvents();
			},
			addEvents: function() {
				var _this = this;

				function btnClicked() {
					var thisFlowBox = $(this).parents(_this.noneFlow).find(_this.floWbox);
					var checkBoxSize = -thisFlowBox.height()-2; // 박스높이 = 숨겨지는 부분
					var checkBtnSize = -$(this).height()-6; // 버튼 높아 = 보여지는 부분
					thisFlowBox.toggleClass(_this.activeClass); // 클래스 달아주기

					if( thisFlowBox.hasClass(_this.activeClass) ) {
						TweenMax.to(thisFlowBox, 2, {
							y: checkBoxSize
						});	
						// console.log('올라감');
					} else {
						TweenMax.to(thisFlowBox, 2, {
							y: checkBtnSize
						});	
						// console.log('내려감');
					}
				}
    		_this.$btn.off(_this.events.CLICK_BTN).on(_this.events.CLICK_BTN, btnClicked); // btnClicked(); 함수 호출
			}
		}

		$(function(){
			app.$body = $("body");
			hasJqueryObject(app.$body.find(".noneFlow .btn")) && app.uptoArea.init();
		})

	</script>
</body>
</html>